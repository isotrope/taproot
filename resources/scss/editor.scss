////
/// Editor stylesheet.
///
/// This is the primary editor stylesheet. It is used for the WordPress 5.0+
/// block editor (Gutenberg) and is not intended for older versions of the
/// WordPress edit screen.
///
/// @group  Styles
/// @author Sky Shabatura <theme@sky.camp>
/// @link   https://taproot-theme.com
////


// Import settings and tools.
@import 'settings/_index';
@import 'tools/_index';


// var defaults
:root {

    // colors
    @import 'defaults/vars/colors';   

    // global vars
    @import 'defaults/vars/default';  

    // mobile vars
    @import 'defaults/vars/mobile';      
}

// tablet vars 
@media ( min-width: 768px ) {

    // use tablet vars when sidebar closed
    .edit-post-layout:not(.is-sidebar-opened) {
        @import 'defaults/vars/tablet';    
    }
}

// desktop vars 
@media (min-width: 960px) {

    // use tablet vars when settings sidebar is open
    :root {
        @import 'defaults/vars/tablet';    
    }

    // use desktop vars when settings sidebar is closed
    .edit-post-layout:not(.is-sidebar-opened) {
        @import 'defaults/vars/desktop';    
    }
}



// Prefix all of the styles with `.editor-styles-wrapper` 
.editor-styles-wrapper {


    // we still need to include some of these styles
    // alignment, etc.
    // @import 'utilities/_index';
    


    // General styles, applied to all blocks. 
    // This is where we'll apply the theme body styles
    .wp-block {

        // max content width
        max-width: var( --layout--content--max-width );

        // body styles
        font-family: var( --typography--body--font-family, -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif );
        font-size: var(--typography--body--font-size);
        line-height: var(--typography--body--line-height);  
        color: var( --colors--theme--text-color, defaultColor( text-color )); 

        p {
            font-size: var(--typography--body--font-size);
            line-height: var(--typography--body--line-height);              
        }

        p, ul, ol, hr, pre, blockquote, address, figure, dd, table {
            margin-bottom: var( --typography--body--block-spacing );
        }


        // import elements 
        @import 'elements/buttons';

        // import hr styles 
        @import 'elements/hr';    

        // import blockquote styles 
        @import 'elements/blockquote';   

        // import form styles 
        @import 'elements/tables';           

    }

    // heading blocks  
    .wp-block-heading {
        @import 'elements/headings';
    }


    // get our block styles
    @import 'blocks/_index';
    

    // force our font size on the blockquote block
    .wp-block-quote__citation {
        font-size: var(--typography--body--font-size);
    }

    // we don't need a bottom margin in the block editor interface
    .wp-block .wp-block-button {
        margin-bottom: 0;
    }

    // put space between the link field and the button
    .block-library-button__inline-link {
        margin-top: 1em;
    }

    // we'll use our own table padding and line height in the form 
    .wp-block-table__cell-content {
        padding: 0;
        line-height: inherit;
    }


    // post title styles -- for any post type besides "page"
    body:not( .post-type-page ) & {

        .editor-post-title__input {
            color: inherit;
            font-family: inherit;
            font-weight: normal;
            font-size: var( --posts--title--font-size );
            line-height: var( --posts--title--line-height );
        }
    }


    // page title styles 
    body.post-type-page & {

        .editor-post-title__input {
            color: inherit;
            font-family: inherit;
            font-weight: normal;
            font-size: var( --pages--title--font-size );
            line-height: var( --pages--title--line-height );
        }    
    }


    // wide and full block styles
    .editor-block-list__block[data-align=full],
    .editor-block-list__block[data-align=wide],
    .alignfull, .alignwide {

        width: auto;
    
        .wp-block-image {
            width: 100%;
        }

        // force image to fill space
        img {
            width: 100%;
        }    
    }
    
    // full block styles
    .editor-block-list__block[data-align=full],
    .alignfull {
        max-width: 100vw;
    }
    
    // wide block styles
    .editor-block-list__block[data-align=wide],   
    .alignwide {
        max-width: 100%;
    }  

}


figure {
    margin-left: 0;
    margin-right: 0;
    margin-top: 0;
}

